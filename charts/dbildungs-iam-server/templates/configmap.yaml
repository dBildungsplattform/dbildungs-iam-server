apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.configmap.name }}
  namespace: {{ .Values.namespace }}
  labels: 
    app.kubernetes.io/name: {{ .Values.dbildungs-iam-server.commonLabels.name }}
    app.kubernetes.io/version: {{.Chart.Version}}
data:
  config-json: |-
    {{ .Files.Get "config/config.json" | nindent 4 }}
  keycloak-base-url: "https://{{ .Values.keycloakHostname }}"
  frontend-oidc-callback-url: "https://{{ .Values.backendHostname }}/api/auth/login"
  frontend-default-login-redirect: "https://{{ .Values.backendHostname }}/"
  frontend-logout-redirect: "https://{{ .Values.backendHostname }}/"
  db-name: "{{ .Values.database.name }}"
